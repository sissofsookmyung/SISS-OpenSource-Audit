# [juice-shop] μ»¤λ°‹ λ¶„μ„ - [9e75c92]
**μ£Όμ :** CVE-2022-24434 λ€μ‘μ„ μ„ν• multer μμ΅΄μ„± λ³΄μ• ν¨μΉ

---

## π§© κ°μ”
- **μ»¤λ°‹ ν•΄μ‹:** 9e75c92
- **νμΌ λ³€κ²½:** package.json
- **κ΄€λ ¨ PR/λ¦΄λ¦¬μ¦:** multer λ³΄μ• ν¨μΉ PR - https://github.com/expressjs/multer/pull/1097

---

## π” λ³€κ²½ μ”μ•½
package.jsonμ multer λ²„μ „μ΄ ^1.4.2 -> ^1.4.5-lts.1 λ΅ λ³€κ²½
λ³€κ²½ λ©μ μ€ CVE-2022-24434 λ¬Έμ  ν•΄κ²°
- multerλ” νμΌ μ—…λ΅λ“ μ²λ¦¬λ¥Ό μ„ν•΄ λ²„μ „ 1.xμ—μ„ busboy(<1.0)λ¥Ό λ‚΄λ¶€μ μΌλ΅ μ‚¬μ©ν•λ‹¤. μ΄ κµ¬λ²„μ „ busboyλ” multipart νμ‹±μ„ μ„ν•΄ dicerλ¥Ό μ‚¬μ©ν•λ©°, ν•΄λ‹Ή dicerκ°€ CVE-2022-24434 μ·¨μ•½μ μ„ κ°€μ§€κ³  μμ—λ‹¤. multer μμ²΄ λ²„μ „μ„ μ¬λ ¤ λ‚΄λ¶€ busboyμ λ²„μ „μ„ λ†’μ΄κ³ , μ΄λ¥Ό ν†µν•΄ dicerλ¥Ό μ κ±°ν•μ—¬ dicer μ·¨μ•½μ μ„ μ κ±°ν•μ€λ‹¤.

diff
-    "multer": "^1.4.2",
+    "multer": "^1.4.5-lts.1",

---

## π” λ³΄μ• κ΄€μ  λ¶„μ„
| ν•­λ© | μ΄μ „ λ²„μ „(^1.4.2) | λ³€κ²½ λ²„μ „(^1.4.5-lts.1) | λ³΄μ•μ  μλ―Έ |
| μμ΅΄μ„±(dicer) ν¬ν•¨ μ—¬λ¶€ | μ·¨μ•½ν• dicer ν¬ν•¨ (busboy <1.0) | dicer μ κ±°λ¨ (busboy β‰¥1.0) | dicer κΈ°λ° DoS μ·¨μ•½μ (CVE-2022-24434) μ κ±° |
| busboy λ²„μ „ | κµ¬λ²„μ „ busboy (μ •ν™•ν• λ²„μ „μ€ λ―Έκ³µκ°) | μ—…λ°μ΄νΈλ busboy (μ·¨μ•½μ  μ—†λ” λ²„μ „) | λ©€ν‹°ννΈ νμ‹± κ³Όμ •μ μ•μ •μ„± ν–¥μƒ |

---

## π§Ύ κ²€μ¦ λ° ν™•μΈ
- [ ] κ΄€λ ¨ PR/λ¦΄λ¦¬μ¦ λ΅κ·Έ ν™•μΈ (multer PR #1097)
- [ ] λ³΄μ• ν¨μΉ(CVE-2022-24434) μ—¬λ¶€ ν™•μΈ (multer λ¦΄λ¦¬μ¦ λ…ΈνΈμ—λ” CVE ν‘κΈ°λ” μ—†μΌλ‚, PR #1097μ—μ„ CVE-2022-24434 λ€μ‘μ΄ μ„¤λ…λμ–΄ μμ)
- [ ] ν…μ¤νΈ/λΉλ“ μ •μƒ λ™μ‘ ν™•μΈ  

---

## π’¬ κ²°λ΅ 
- [ ] μ—…λ°μ΄νΈ μ„±κ²©: λ³΄μ• κ°•ν™” (CVE ν¨μΉ λ°μ) 
- [ ] CI/CD μ‹ λΆ°μ„± μν–¥: μ—†μ (μ¤νλ ¤ μ•μ •μ„± μ¦κ°€)
- [ ] μ¶”κ°€ ν™•μΈ ν•„μ”μ‚¬ν•­: multer λ‚΄λ¶€ μμ΅΄μ„±(tree)μ—μ„ dicerκ°€ μ™„μ „ν μ κ±°λμ—λ”μ§€ ν™•μΈ (npm ls dicer)

---

## π“ μ°Έκ³ 
- PR λ§ν¬: https://github.com/expressjs/multer/pull/1097 
- λ¦΄λ¦¬μ¦ λ…ΈνΈ: ν•΄λ‹Ή λ²„μ „μ κ³µμ‹ λ¦΄λ¦¬μ¦ λ…ΈνΈ μ—†μ 
- κ΄€λ ¨ λ¬Έν—/μ°Έκ³ μλ£: CVE μƒμ„Έ λ¶„μ„ https://nvd.nist.gov/vuln/detail/CVE-2022-24434, Snyk λ¶„μ„ https://security.snyk.io/vuln/SNYK-JS-DICER-2311764