# ModSecurity 커밋 분석 - dfbde55
**주제:** 2.9.12 버전 업데이트

---

## 🧩 개요
- **커밋 해시:** dfbde55
- **발견 날짜:** issue opened on Feb 16, 2021
- **파일 변경:** `apache2/apache2_io.c`, `apache2/mod_security2.c`
- **관련 CVE:** CVE-2025-54571
---

## 🔍 변경 요약
잘못된 요청에 대한 처리(return value)가 충분하지 못하게 설정되어서 XSS 공격 또는 소스코드 노출로 이어질 수 있었다.
기존에 `0` 또는 `-1`등의 정수 반환값을 `HTTP_INTERNAL_SERVER_ERROR` 등 구체적인 에러 매크로 반환으로 수정했다. 
```diff
- if (bb_in == NULL) return -1;
+ if (bb_in == NULL) {
+   return HTTP_INTERNAL_SERVER_ERROR;
+ }
```

---
## 1. 어떤 보안 문제?
1. 400 Bad Request 이후에 Apache httpd server 측에서 <html>It works!</html> 응답을 얻은 것으로 최초 발견되었다. 해당 응답은 `index.html`의 컨텐츠가 유출된 것이다.


## 🔐 보안 관점 분석
| 항목 | 이전 버전 | 변경 버전 | 보안적 의미 |
|------|------------|------------|--------------|
| 기능/의존성 |  |  |  |

---

## 🧾 검증 및 확인
- [ ] 관련 PR/릴리즈 로그 확인  
- [✔️] 보안 패치(CVE) 여부 확인 : CVE-2025-54571
- [ ] 테스트/빌드 정상 동작 확인  

---

## 💬 결론
- [✔️] 업데이트 성격: 보안 강화
- [ ] CI/CD 신뢰성 영향: (있음 / 없음)
- [ ] 추가 확인 필요사항: (예: 서명 검증, 의존성 라이브러리)

---

## 📚 참고
- PR 링크:  
- 릴리즈 노트:  
- 관련 문헌/참고자료:  CWE-252
